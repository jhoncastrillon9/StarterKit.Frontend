<div class="auth-page-container">
  <div class="auth-card-wrapper">
    <!-- Logo Section -->
    <div class="auth-logo-section">
      <img
        src="../../../../assets/img/logos/logocotiza.png"
        alt="Logo Cotiza"
        class="auth-logo"
      />
    </div>

    <!-- Auth Card -->
    <div class="auth-card">
      <div class="auth-card-header">
        <div class="auth-icon">
          <svg cIcon name="cilEnvelopeClosed"></svg>
        </div>
        <h1 class="auth-title">Recuperar Contraseña</h1>
        <p class="auth-subtitle">Te enviaremos un correo con las instrucciones para restablecer tu contraseña</p>
      </div>

      <div class="auth-card-body">
        <form [formGroup]="recoveryPasswordForm" (ngSubmit)="onRecoveryPassword()">
          <!-- Email Field -->
          <div class="auth-form-group">
            <label class="auth-label">
              Correo electrónico
              <span class="required-star">*</span>
            </label>
            <div class="auth-input-wrapper icon-left">
              <input
                type="email"
                class="auth-input"
                formControlName="email"
                placeholder="ejemplo@correo.com"
                autocomplete="email"
                [ngClass]="{'is-invalid': recoveryPasswordForm.get('email')?.invalid && (recoveryPasswordForm.get('email')?.touched || recoveryPasswordForm.get('email')?.dirty)}"
              />
              <span class="auth-input-icon">
                <svg cIcon name="cilEnvelopeClosed"></svg>
              </span>
            </div>
            <div
              *ngIf="recoveryPasswordForm.get('email')?.invalid && (recoveryPasswordForm.get('email')?.touched || recoveryPasswordForm.get('email')?.dirty)"
              class="auth-error-message"
            >
              <svg cIcon name="cilWarning"></svg>
              Por favor, ingresa un email válido.
            </div>
          </div>

          <!-- Info Message -->
          <div class="alert alert-info d-flex align-items-center mb-4" role="alert" style="border-radius: 12px; border: none; background: rgba(33, 34, 148, 0.08);">
            <svg cIcon name="cilInfo" class="me-2" style="color: #212294;"></svg>
            <small style="color: #374151;">Revisa tu bandeja de entrada y carpeta de spam.</small>
          </div>

          <!-- Buttons -->
          <div class="auth-buttons-row">
            <a routerLink="/login" class="auth-btn-secondary text-center text-decoration-none d-flex align-items-center justify-content-center">
              <svg cIcon name="cilArrowLeft" class="me-2"></svg>
              Regresar
            </a>
            <button type="submit" class="auth-btn-primary">
              <svg cIcon name="cilSend" class="me-2"></svg>
              Enviar Instrucciones
            </button>
          </div>
        </form>
      </div>

      <div class="auth-card-footer">
        <p class="auth-footer-text">
          ¿Recordaste tu contraseña? <a routerLink="/login">Inicia sesión</a>
        </p>
      </div>
    </div>
  </div>
</div>

<!-- Modal de confirmación -->
<app-confirmation-modal 
  #confirmationModal  
  [messageModal]="messageModal"
  [title]="title"
  [isModalError]="isModalError"
  [alignment]="'top'">
</app-confirmation-modal>

<ngx-spinner 
  bdColor="rgba(0, 0, 0, 0.8)" 
  size="medium" 
  color="#fff" 
  type="ball-clip-rotate-multiple" 
  [fullScreen]="true">
  <p style="color: white; margin-top: 1rem;">Cargando...</p>
</ngx-spinner>