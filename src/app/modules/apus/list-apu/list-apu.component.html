<c-col xs="12">
    <c-card class="mb-4">


      <p-table #dt 
      class="p-datatable-sm" 
      styleClass="p-datatable-gridlines"        
      [value]="apus" 
      [paginator]="true" 
      [rows]="20"         
      [filterDelay]="3" 
      [loading]="loading" 
      
      [rowHover]="true"
      sortField="date" 
      [sortOrder]="-1"
      [rowsPerPageOptions]="[20, 40, 60, 100]"
      currentPageReportTemplate="{first} al {last} de {totalRecords}"
      [globalFilterFields]="['ItemName']"
      [tableStyle]="{ 'min-width': '50rem' }"
      >



    <ng-template pTemplate="caption" >
      <div style="display: flex; justify-content: space-between; align-items: center;" >          
          <p-button label="Limpiar" [outlined]="true" icon="pi pi-filter-slash" (onClick)="clear(dt)" styleClass="ButtonClear"/>
          

          <span class="p-input-icon-left ml-auto">
              <i class="pi pi-search"></i>
          <input pInputText type="text" [(ngModel)]="searchValue" (input)="dt.filterGlobal($any($event.target).value, 'contains')" placeholder="Buscar" class="ButtonSearchValue"/>
          </span>
      </div>
  </ng-template>

      <ng-template pTemplate="header">
        <tr class="TableCustomCotiza">
            <th style="min-width:5rem">
                <div pSortableColumn="UnitPriceAnalysisId" class="flex align-items-center">
                    Cod
                    <p-sortIcon field="UnitPriceAnalysisId" />
                </div>
            </th>
            <th  pSortableColumn="ChapterCode" style="min-width:10rem">
                <div class="flex align-items-center">
                    Cod Capitulo
                    <p-sortIcon field="ChapterCode" />
                </div>
            </th>   
            <th pSortableColumn="ChapterName" style="min-width:15rem">
              <div class="flex align-items-center">
                  Capitulo
                  <p-sortIcon field="ChapterName" />
              </div>
          </th>  
            <th  pSortableColumn="SubChapterCode" style="min-width:10rem">
                <div class="flex align-items-center">
                    Cod SubCapitulo   
                    <p-sortIcon field="SubChapterCode" />                  
                </div>
            </th>
            <th  pSortableColumn="SubChapterName" style="min-width:10rem">
                <div class="flex align-items-center">
                    SubCapitulo
                    <p-sortIcon field="SubChapterName" />
                </div>
            </th>

            <th  pSortableColumn="ItemCode" style="min-width:10rem">
                <div class="flex align-items-center">
                    Cod 
                    <p-sortIcon field="ItemCode" />
                </div>
            </th>

            <th  pSortableColumn="ItemName" style="min-width:10rem">
                <div class="flex align-items-center">
                    Nombre
                    <p-sortIcon field="ItemName" />
                </div>
            </th>

            <th  pSortableColumn="UnitMeasurement" style="min-width:10rem">
                <div class="flex align-items-center">
                    Und
                    <p-sortIcon field="UnitMeasurement" />
                </div>
            </th>

            <th  pSortableColumn="LaborCost" style="min-width:10rem">
                <div class="flex align-items-center">
                    Mano de Obra
                    <p-sortIcon field="LaborCost" />
                </div>
            </th>

            <th  pSortableColumn="TotalPrice" style="min-width:10rem">
                <div class="flex align-items-center">
                    Valor Total
                    <p-sortIcon field="TotalPrice" />
                </div>
            </th>

            <th style="min-width:10rem">
              <div class="flex align-items-center">
                  Opciones
                
              </div>
          </th>

        </tr>
    </ng-template>

      <ng-template pTemplate="body" let-apu >
        <tr  class="TableCustomCotiza">
          <td>{{ apu.UnitPriceAnalysisId }}</td>
          <td>{{ apu.ChapterCode }}</td>
          <td>{{ apu.ChapterName }}</td>
          <td>{{ apu.SubChapterCode }}</td>
          <td>{{ apu.SubChapterName }}</td>
          <td>{{ apu.ItemCode }}</td>
          <td>{{ apu.ItemName }}</td>
          <td>{{ apu.UnitMeasurement }}</td>
          <td>$ {{ apu.LaborCost.toLocaleString('es-ES', { minimumFractionDigits: 0, maximumFractionDigits: 0 }) }} </td>
          <td>$ {{ apu.TotalPrice.toLocaleString('es-ES', { minimumFractionDigits: 0, maximumFractionDigits: 0 }) }} </td>
       
          <td>
            <span style="cursor: pointer; color: blueviolet;" color="primary" variant="outline" [routerLink]="['/customers/update', customer.customerId]" title="Ver Cliente"><svg cIcon class="me-2" name="cilPencil"></svg></span>                
            <span style="cursor: pointer; color: red;" color="danger" variant="outline" (click)="deleteCustomer(customer)" title="Eliminar Cliente CotizaciÃ³n"><svg cIcon class="me-2" name="cilXCircle"></svg></span>
          </td>
        </tr>
      </ng-template>
    </p-table>

</c-card>
</c-col>
  


