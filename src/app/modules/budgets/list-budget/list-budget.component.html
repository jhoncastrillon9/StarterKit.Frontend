<c-col xs="12">
  <c-card class="">
    <c-card-header ngPreserveWhitespaces>
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <div>
          <strong>Listado</strong> <small>Cotizaciones</small>
        </div>
        <div style="text-align: right;">
          <span style="cursor: pointer; color: blueviolet;" [routerLink]="['/budgets/add']" title="Nueva Cotización">
            <i class="pi pi-plus"></i> Agregar Cotización
          </span>
        </div>
      </div>
    </c-card-header>
    <c-card-body>

      <p-table #dt [value]="budgets" [paginator]="true" [rows]="10" [filterDelay]="500" [loading]="loading">

        <ng-template pTemplate="body" let-budget>
          <tr>
            <td>{{ budget.budgetId }}</td>
            <td>{{ budget.date | date: 'dd MMM yyyy' }}</td>
            <td>{{ budget.budgetName }} 
              <span *ngIf="budget.isInvoice" class="badge bg-success me-1" title="Factura">F</span>
            </td>
            <td>{{ budget.customerDto.customerName }}</td>
            <td style="text-align: right;">$ {{ budget.total.toLocaleString('es-ES', { minimumFractionDigits: 0, maximumFractionDigits: 0 }) }}</td>
            <td>
              <span (click)="downloadBudget(budget)" title="Descargar PDF" style="cursor: pointer; color: blueviolet;">
                <svg cIcon class="me-2" name="cilZoom"></svg>
              </span>
              <span [routerLink]="['/budgets/update', budget.budgetId]" title="Editar Cotización" style="cursor: pointer; color: blueviolet;">
                <svg cIcon class="me-2" name="cilPencil"></svg>
              </span>
              <span (click)="deleteBudgetWithComfirm(budget)" title="Eliminar Cotización" style="cursor: pointer; color: red;">
                <svg cIcon class="me-2" name="cilXCircle"></svg>
              </span>
              <span (click)="copybudget(budget)" title="Duplicar Cotización" style="cursor: pointer; color: green;">
                <svg cIcon class="me-2" name="cilCopy"></svg>
              </span>
            </td>
          </tr>
        </ng-template>
      </p-table>
      





    </c-card-body>
  </c-card>
</c-col>
